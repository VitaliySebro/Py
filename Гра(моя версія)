# Ця гра - це простий варіант камінь-ножиці-папір, де гравець змагається з комп'ютером
import random # Імпортуємо модуль random для генерації випадкових чисел

# Створюємо список можливих варіантів
options = ["камінь", "ножиці", "папір"]

# Створюємо змінні для зберігання очок гравця і комп'ютера
player_score = 0
computer_score = 0

# Встановлюємо ліміт очок для виграшу
win_limit = 3

# Виводимо привітання і правила гри
print("Вітаю вас у грі камінь-ножиці-папір!")
print("Ви змагаєтеся з комп'ютером. Перший, хто набере", win_limit, "очок, виграє.")
print("Для вибору варіанту введіть одне з наступних слів: камінь, ножиці або папір.")
print("Для виходу з гри введіть слово кінець.")

# Створюємо цикл, який триватиме, поки гра не закінчиться
while True:
    # Запитуємо вибір гравця
    player_choice = input("Ваш вибір: ")

    # Перевіряємо, чи гравець хоче вийти з гри
    if player_choice == "кінець":
        print("Гру завершено. Дякую за участь!")
        break # Виходимо з циклу

    # Перевіряємо, чи гравець ввів правильний варіант
    if player_choice not in options:
        print("Невірний вибір. Спробуйте ще раз.")
        continue # Повертаємося до початку циклу

    # Генеруємо випадковий вибір комп'ютера
    computer_choice = random.choice(options)

    # Виводимо вибір комп'ютера
    print("Вибір комп'ютера:", computer_choice)

    # Порівнюємо вибір гравця і комп'ютера і визначаємо переможця
    if player_choice == computer_choice:
        print("Нічия!")
    elif (player_choice == "камінь" and computer_choice == "ножиці") or (player_choice == "ножиці" and computer_choice == "папір") or (player_choice == "папір" and computer_choice == "камінь"):
        print("Ви виграли!")
        player_score += 1 # Збільшуємо очки гравця на 1
    else:
        print("Ви програли!")
        computer_score += 1 # Збільшуємо очки комп'ютера на 1

    # Виводимо поточний рахунок
    print("Рахунок:", player_score, "-", computer_score)

    # Перевіряємо, чи хтось досяг ліміту очок для виграшу
    if player_score == win_limit:
        print("Ви набрали", win_limit, "очок і перемогли комп'ютера!")
        break # Виходимо з циклу
    elif computer_score == win_limit:
        print("Комп'ютер набрав", win_limit, "очок і переміг вас!")
        break # Виходимо з циклу

    # Виводимо роздільник для наступного раунду
    print("-" * 20)

    # Додаємо функціонал для зміни варіантів гри
    print("Чи хочете ви змінити варіанти гри?")
    print("Для того, щоб додати новий варіант, введіть його назву.")
    print("Для того, щоб видалити існуючий варіант, введіть його назву зі знаком мінус перед ним.")
    print("Для того, щоб залишити варіанти без змін, введіть слово продовжити.")

    # Створюємо цикл, який триватиме, поки гравець не вирішить про зміну варіантів
    while True:
        # Запитуємо вибір гравця
        change_choice = input("Ваш вибір: ")

        # Перевіряємо, чи гравець хоче залишити варіанти без змін
        if change_choice == "продовжити":
            print("Ви вирішили залишити варіанти без змін.")
            break # Виходимо з циклу

        # Перевіряємо, чи гравець хоче видалити існуючий варіант
        elif change_choice.startswith("-"):
            # Визначаємо назву варіанта, який треба видалити
            delete_option = change_choice[1:]

            # Перевіряємо, чи такий варіант існує
            if delete_option in options:
                # Видаляємо варіант зі списку
                options.remove(delete_option)
                print("Ви видалили варіант", delete_option)
            else:
                print("Такого варіанта не існує. Спробуйте ще раз.")

        # Перевіряємо, чи гравець хоче додати новий варіант
        elif change_choice not in options:
            # Додаємо варіант до списку
            options.append(change_choice)
            print("Ви додали варіант", change_choice)
        else:
            print("Невірний вибір. Спробуйте ще раз.")

    # Виводимо оновлений список варіантів
    print("Тепер ви можете вибирати з наступних варіантів:", ", ".join(options))

                
